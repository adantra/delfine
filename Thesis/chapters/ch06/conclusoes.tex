\chapter{Conclusões e Trabalhos Futuros}
\label{ch:conclusoes}

\section{Conclusões}
\label{sc:conclusoes}
Nesta dissertação foi apresentado o desenvolvimento, utilizando técnicas de modelagem automática, de um software para a simulação de escoamentos bifásicos óleo-água em meios porosos. Na formulação matemática foi considerado que tal escoamento obedece a Lei de Darcy, sendo que o procedimento adotado se mostrou flexível suficiente para lidar com domínios homogêneos e heterogêneos e com tensores de permabilidade iso- e anisotrópicos.

As \ac{EDP}s resultantes do modelo matématico foram resolvidas numericamente utilizando o \ac{MEF}, o que permitiu o uso de malhas tanto estruturadas quanto não-estruturadas. Algumas variantes deste método foram utilizadas ao logo deste trabalho,  sendo as conclusões do uso de cada uma mencionadas a seguir:
\begin{itemize}
\item \emph{\acf{MEF} de Galerkin}:
Utilizado para calcular a pressão. Se mostrou adequado para resolver problemas elípticos com soluções suaves. As soluções numéricas obtidas foram comparadas com as analíticas para problemas modelo da literatura, tendo sido encontrada uma boa concordância entre os resultados. Foram efetuados estudos de convergência de malha com o uso deste método e taxas de convergência condizentes com a ordem dos elementos triangulares utilizados foram obtidas. Entretanto, para se resolver o problema completo de escoamento em meios porosos utilizando a formulação matemática adotada, é necessário que se obtenha o campo de velocidade com uma boa precisão, o que não se mostrou possível com este método ao se calcular a velocidade utilizando diretamente o gradiente da pressão. Sendo assim, foi utilizada uma segunda variante do \ac{MEF}, cujas conclusões são descritas a seguir.
\item \emph{\acf{MEFM}}:
Utilizado para calcular a pressão e a velocidade simultaneamente. Apresenta uma formulação numérica mais complexa do que o método anterior, além disso apresenta uma restrição de estabilidade em relação às combinações de espaços de funções que podem ser escolhidas para as funções tentativa e de ponderação. Por outro lado, o fato de calcular simultaneamente a pressão e a velocidade permitiu obter um campo de velocidades mais adequado para a solução da equação da saturação, a qual foi resolvida pelo método a seguir.
\item \emph{\ac{MEF} com estabilização via Streamline Upwind Petrov-Galerkin(SUPG) e adição de difusão numérica artificial}:
Utilizado para calcular a saturação. O uso do \ac{MEF} sem nenhuma estabilização se mostrou completamente inadequado para as partes essencialmente hiperbólicas dos problemas considerados. Por isso, foi inicialmente adicionado um termo de estabilização do tipo \ac{SUPG}, o qual adiciona difusão na direção das linhas de corrente do fluxo. Isto se mostrou adequado para estabilizar a solução e impedir que o erro crescesse indefinidamente, porém a existência de oscilações não-físicas na solução levou à adição de um termo de captura de choque para adição de difusão numérica artificial apenas nas regiões de variação acentuada do gradiente. A combinação destes dois termos se mostrou adequada para os problemas abordados, tendo sido a solução numérica comparada com a analítica para problemas modelo unidimensionais, tendo sido obtida uma boa concordância. O uso deste método também foi analisado para um domínio bidimensional e heterogêneo, tendo sido obtidos bons resultados. Entretanto, há de se observar que as oscilação não-físicas foram reduzidas mas não completamente eliminadas das soluções numéricas obtidas.

Foi testada uma técnica de aceleração de convergência para a resolução do sistema de equações lineres provenientes da discretização da parte elítpica do problema. A técnica utilizada foi a de \acf{AMG}, a qual apresenta como diferencial permitir resolver todas as faixas de frequências do erro ao mesmo tempo, ao contrário dos métodos convencionais que resolvem apenas a faixa de alta-frequência. Foram comparadas a quantidade de iterações até a convergência necessária para métodos Multigrid do tipo \ac{AMG}, métodos iterativos do tipo \acf{CG} e \acf{GMRES} e por fim foi testado o uso do \ac{AMG} como precondicionador para os métodos \ac{CG} e \ac{GMRES}. Observou-se que métodos do tipo Multigrid apresentaram uma convergência mais rápida para os problemas considerados, sendo que o uso do mesmo como precondicionador aumentou ainda mais a taxa de convergência.
\end{itemize}

Por fim, é fundamental frisar a importância deste trabalho ter sido realizado utilizando-se de ferramentas computacionais para automação do processo de desenvolvimento do código. O pacote \emph{FEniCS/DOLFIN} se mostrou bastante útil e versátil para a aplicação na área de simulação de escoamentos em meios porosos, já que permite acrescentar com grande facilidade novos métodos numéricos e testar diferentes formulações matemáticas. Isto se deve em grande parte ao fato da codificação por parte do usuário poder ser feita na linguagem \emph{Python} de uma forma bastante similar àquela utilizada na descrição matemática do problema. Ou seja, ao invés de se implementar diversas funções para o cálculo de operadores como o de gradiente ou divergente, os mesmos já estão implementados no pacote sendo necessário apenas chamá-los dentro do programa principal. Como exemplo da praticidade de uso deste sistema para automação da geração de código, podemos citar o fato de que toda a parte computacional apresentada nesta dissertação foi desenvolvida em menos de 1 ano com trabalho em meio período, sendo que o desenvolvimento de todo o aparato numérico-computacional utilizado provavelmente teria demorado muito mais tempo caso todas as ferramentas tivessem sido que ser desenvolvidas de modo independente.

\section{Trabalhos Futuros}
\label{sc:trabFuturos}
Devido à abrangência do campo estudado, logicamente não é possível abordar todas as possíveis áreas de interesse em um único trabalho. Entretanto, graças ao uso de técnicas de modelagem automática como as utilizadas e descritas nesta dissertação, se torna relativamente simples a expansão do código aqui desenvolvido para lidar com problemas mais complexos e/ou gerais. Sendo assim, podemos citar como temas de interesse para trabalhos futuros os seguintes tópicos:
\begin{itemize}
\item \emph{Adição de Difusão Artificial Anisotrópica}:
Neste trabalho foi utilizada a adição de difusão igual em todas as direções, sendo que é demonstrado na literatura \citep{Codina1992} que o termo do tipo \ac{SUPG} já adiciona dissipação suficiente na direção das linhas de corrente, sendo portanto necessário a adição de difusão apenas na direção perpendicular ao fluxo, evitando assim uma sobre-difusão em determinada direção. 
\item \emph{Mais ``Física'': Capilaridade, Gravidade e Modelo Black-Oil}:
A formulação matemática utilizada neste trabalho teve como foco representar apenas as características principais do escoamento para verificar a utilização da metodologia numérica e das ferramentas computacionais descritas nesta dissertação. Entretanto, o escoamento multifásico em meios porosos envolve várias outras nuances que podem ser melhor abordadas para representar mais fielmente o problema real.
\item \emph{Computação paralela com MPI e/ou OpenMP}:
Foi utilizada neste trabalho uma técnica de aceleração de convergência que permite diminuir o tempo necessário para a resolução do sistema de equações lineares para a parte elíptica do problema. Entretanto, este tempo de computação provavelmente continuaria sendo proibitivo para problemas de maior escala envolvendo milhões de graus de liberdade. Sendo assim, uma das alternativa seria utilizar técnicas de computação paralela para distribuir a carga total entre vários processadores. O pacote \emph{FEniCS/DOLFIN} possui uma interface simples que permite o uso tanto de computadores com memória distribuída (com MPI) quanto compartilhada (com OpenMP) sem que seja necessário fazer alterações significativas no código desenvolvido para uso em apenas um processador.
\end{itemize}
