\chapter{Introdução}
\label{ch:introduction}

\section{Motivação}
\label{sc:motivation}

Atualmente, a simulação numérica do escoamento de fluidos em meios porosos é fundamental em várias áreas da engenharia, como na análise de transporte de contaminantes em aquíferos \citep{Bear1992}, gerenciamento de água e calor em membranas poliméricas para células a combustível \citep{Matamoros2006} ou para a simulação de escoamentos multifásicos em reservatórios de petróleo \citep{Peaceman1977, Aziz1979,Ewing1983,Carvalho2005,Silva2008}.

A modelagem científica do escoamento de fluidos em meios porosos para a indústria do petróleo vem sendo feita desde os anos 30 do século passado, inicialmente utilizado modelos de areia compactada para compreender a produção de água em reservatórios de petróleo e o porquê da proporção água-óleo aumentar  ao longo do tempo. No final dos anos 30 e começo dos 40 alguns experimentos como modelos eletrolíticos foram usados para representar o escoamento em meios porosos, tendo sido nesta época já reconhecida a analogia entre as leis que regem o fluxo de corrente elétrica e as leis de Darcy \citep{Peaceman1990}. Todos esses modelos físicos análogos permitiram a obtenção de um conhecimento mais profundo sobre os fenômenos que governam este tipo de problema, porém apenas com o advento dos computadores eletrônicos é que foi possível para os engenheiros simular problemas do "mundo real", como o de reservatórios de óleo em 2 ou 3 dimensões.

Paralelamente ao desenvolvimento de novos hardwares, houve também um trabalho extensivo em métodos computacionais aplicados ao escoamento multifásico em meios porosos. O primeiro método utilizado em larga escala para resolver \ac{EDP} numericamente e ainda padrão na indústria do petróleo foi o \ac{MDF} \citep{Peaceman1990}. Entretanto, este tipo de método apresenta certas desvantagens, como a dificuldade para lidar com domínios complexos, condições de contorno gerais ou propriedades de materiais variáveis ao longo do domínio \citep{Chen2006}, especiamente quando comparado com métodos mais adequados para lidar com malhas não-estruturadas que vêm sendo aplicados mais recentemente nesta área como é o caso do \ac{MVF} \citep{Carvalho2005, Cordazzo2006} ou o \ac{MEF} \citep{Chen2006}. Por estes motivos, um método da última classe citada foi usado ao longo deste trabalho.

Um aspecto comum a todos estes métodos computacionais é o tempo considerável necessário para o desenvolvimento de programas de computador que implementem formulações para casos gerais e/ou complexos. Muito desse tempo é consumido codificando tarefas que são comuns a praticamente qualquer software de simulação numérica, como por exemplo a montagem das matrizes, manipulação de dados de entrada e saída (I/O) ou a solução iterativa de sistemas de equações lineares. A abordagem adotada neste trabalho para superar esta dificuldade foi utilizar a ferramenta de código aberto \emph{FEniCS/DOLFIN} \citep{Logg2010}, a qual permite efetuar a geração automática de código de baixo nível (em \emph{C++}) baseada em informações fornecidas através de uma interface com um programa escrito em código de alto nível (\emph{Python} ou \emph{C++}), permitindo ao programador se concentrar no desenvolvimento e teste de diferentes formulações matemáticas e numéricas para o problema de interesse usando uma sintaxe muito similar àquela encontrada na descrição matemática do problema, ao invés de despender tempo escrevendo códigos auxiliares para tarefas administrativas.

Além disso, existe uma necessidade de reduzir o tempo de CPU de um programa de modo a viabilizar o uso de simulações dentro do prazo de um projeto. Normalmente, a parte que mais consome tempo de processamento em uma simulação é a solução do sistema de equações lineares resultante da discretização das \ac{EDP}s através de algum método numérico \citep{Saad2003}. Várias técnicas estão disponíveis para resolver de modo iterativo este tipo de sistema, cada uma delas com suas próprias vantagens e desvantagens em termos de velocidade e generalidade, sendo que estas características frequentemente apontam para direções distintas, isto é, um método extremamente rápido para uma classe de problemas muitas vezes não é geral e vice-versa. Neste trabalho foi utilizado um método conhecido por acoplar de modo quase ideal estas duas características: o método Multigrid \citep{Trottenberg2001, Saad2003, Briggs2000}. Todavia, esta particularidade não é obtida sem custo, sendo neste caso as principais dificuldades adicionais associadas aos métodos Multigrid a necessidade de uma sequência de malhas sucessivamente mais grosseiras cuja geração pode se tornar um problema caso não seja abordada adequadamente e o uso de operadores de transferência de informações entre níveis consecutivos. Seguindo o princípio de economizar tempo de codificação com tarefas gerais e manter o foco no problema de interesse, neste trabalho foi utilizada a biblioteca de código aberto \emph{PyAMG} \citep{Bell2008}, a qual não apenas efetua de modo completamente automático a geração de uma sequência de matrizes dada uma malha inicial, como também permite o uso de diferentes variantes do Método do \ac{AMG}, incluindo os algortimos clássicos de Ruge-St\"{u}ben e o de Agregação Suavizada (\emph{Smooth Aggregation}) \citep{Trottenberg2001}.

\section{Histórico da Simulação de Reservatórios de Petróleo}
\label{sc:histSimRes}

\section{Histórico do Multigrid}
\label{sc:histMult}

\section{Histórico da Modelagem Automática de Equações Diferenciais}
\label{sc:histMult}

\section{Objetivos}
\label{sc:obj}

\section{Organização do Trabalho}
\label{sc:orgTrab}
Esta dissertação está dividida em seis capítulos, incluindo introdução e conclusão, organizados de modo a apresentar sequencialmente os passos necessários para se alcançar os objetivos definidos na seção \ref{sc:obj}. Além disso, foram anexados ao final do trabalho dois apêndices que lidam com aspectos práticos da implementação e uso do código desenvolvido para obtenção dos resultados apresentados.

\begin{itemize}
\item \emph{Capítulo 1: Introdução.} Este presente capítulo contém a motivação para a realização deste trabalho, um curto histórico das principais áreas relacionadas com uma revisão bibliográfica de alguns dos principais trabalhos de outros autores e suas contribuições, e por fim uma apresentação clara dos objetivos desta dissertação.
\item \emph{Capítulo 2: Formulação Matemática.} No segundo capítulo são apresentadas as equações governantes do problema que se deseja modelar. As propriedades de rocha, fluido e de interação rocha-fluido são expostas e a notação utilizada ao longo do trabalho é definida. Além disso, são discutidas as principais hipóteses simplificadoras utilizadas.
\item \emph{Capítulo 3: Formulação Numérica.} Lida com a transformação de um problema contínuo definido pelas equações apresentadas no capítulo \ref{ch:form_mat} em um problema discreto que pode ser resolvido de modo aproximado utilizando métodos numéricos, os quais também são discutidos em detalhes.
\item \emph{Capítulo 4: Implementação Computacional.} Neste capítulo são abordados os aspectos práticos relativos à implementação de todo o arcabouço teórico desenvolvido. Os principais programas e bibliotecas utilizados são apresentados e comparados com outros similares existentes e as razões para a escolha de cada um é discutida. Por fim, um algoritmo em diagramas de blocos da estrutura geral do programa é exposto, de onde se pode observar as interligações entre os diferentes pacotes adotados e os pontos de interface com o código escrito especificamente para este trabalho.
\item \emph{Capítulo 5: Resultados.} A flexibilidade e acurácia do programa desenvolvido é comprovada através do uso de diversos exemplos que variam desde casos simples homogêneos e isotrópicos com solução analítica fechada, até casos mais mais complexos considerando heterogeneidades no domínio e o uso de tensores de permeabilidade anisotrópicos. Sempre que possível, as soluções obtidas foram comparadas com \emph{benchmarks} da literatura ou com soluções analíticas.
\item \emph{Capítulo 6: Conclusões e Trabalho Futuros.} Neste último capítulo são feitas as observações principais a respeito dos objetivos atingidos neste trabalho quando comparado com as metas estabelecidas. Finalmente, são apresentadas algumas possibilidades de trabalhos futuros baseados no que foi discutido ao longo desta dissertação.
\item \emph{Anexo 1: Delfine - Manual do Usuário.} Este anexo tem um enfoque bastante prático, cujo objetivo é servir como um tutorial para o leitor interessado em utilizar as ferramentas desenvolvidas neste trabalho. Todos os passos, desde a obtenção do código através da internet até o uso do mesmo, passando pela instalação e configuração de pacotes adicionais são discutidos com base em um exemplo simples usado como orientação.
\item \emph{Anexo 2: Delfine - Trechos de Código Selecionados.} Compilação de trechos de códigos escritos para este trabalho e discutidos especialmente no capítulo \ref{ch:implementacao}. São apresentados ao final da dissertação por um questão de clareza e organização.
\end{itemize}




